// DO NOT EDIT.
// swift-format-ignore-file
//
// Generated by the pb_extractor
//

import APIKit

enum {{rpc_name}}APIProvider {

    public static func provide() -> {{rpc_name}}API {
        {{rpc_name}}APIImpl()
    }
}

protocol {{rpc_name}}API {
    func {{http_method}}(request: {{input_type}}) async throws -> {{output_type}}
}

private final class {{rpc_name}}APIImpl: {{rpc_name}}API {

    private let session: Session

    init(session: Session = SerialSession.shared.session) {
        self.session = session
    }

    func {{http_method}}(request: {{input_type}}) async throws -> {{output_type}} {
        try await session.response(for: request)
    }
}
