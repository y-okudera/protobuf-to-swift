// DO NOT EDIT.
// swift-format-ignore-file
//
// Generated by the pb_extractor
//

import APIKit

public enum {{rpc_name}}APIRepositoryProvider {

    public static func provide() -> {{rpc_name}}APIRepository {
        {{rpc_name}}API(session: SerialSession.sharedSession)
    }
}

public protocol {{rpc_name}}APIRepository {
    /// {{http_method}} {{path}}
    func send(request: {{input_type}}) async throws -> {{output_type}}
}

private final class {{rpc_name}}API: {{rpc_name}}APIRepository {

    private let session: Session

    init(session: Session) {
        self.session = session
    }

    func send(request: {{input_type}}) async throws -> {{output_type}} {
        try await session.response(for: request)
    }
}
