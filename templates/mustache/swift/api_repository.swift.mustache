// DO NOT EDIT.
// swift-format-ignore-file
//
// Generated by the protobuf-to-swift
//

import APIKit

public enum {{rpc_name}}APIRepositoryProvider {

    public static func provide() -> {{rpc_name}}APIRepository {
        {{rpc_name}}API(session: Session.sharedSerialSession)
    }
}

public protocol {{rpc_name}}APIRepository {
    /// {{http_method}} {{path}}
    func send(request: {{input_type}}) async throws -> {{output_type}}
}

private struct {{rpc_name}}API: {{rpc_name}}APIRepository {

    private let session: Session

    init(session: Session) {
        self.session = session
    }

    func send(request: {{input_type}}) async throws -> {{output_type}} {
        try await session.send(request)
    }
}
